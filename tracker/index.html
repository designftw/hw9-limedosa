<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Tracker</title>
	<script src="index.js" type="module"></script>
	<link rel="stylesheet" href="style.css">

</head>

<body>

	<header>
		<h1>
			<a href="/"><strong>6.S063</strong>
				<span>Homework Tracker</span></a>
		</h1>
	</header>

	<main>
		<h2>Homework Tracker!</h2>
		<h1>Log in to get started!</h1>
		<button id="loginButton" onclick="backend.login()">Log in</button>
		<button id="logoutButton" onclick="backend.logout()" hidden>Logout</button>
		<span id="myUsername"></span><br><br>

		<button id="add_entry_button" onclick="backend.store(json)">Add Task</button>
		<!-- <button id="saveButton" onclick="backend.store(json)">Add Task</button> -->
		<div id="summary">
			<h3>Task Summary</h3>
			<!-- <p>Total Tasks: <span id="total_tasks"></span></p>
			<p>Tasks Done: <span id="tasks_done"></span></p>
			<p>Tasks Not Done: <span id="tasks_not_done"></span></p> -->
			<details>
				<progress>hi</progress>
				<summary>Raw data</summary>
				<pre id="data">
			[
				{
					"datetime": "2023-04-10T10:00:00",
					"notes": "Add a note!",
					"priority": "medium",
					"done": false
				}
			]
		</pre>
			</details>
			<!-- <h3>All Tasks:</h3> -->
			<template id="entry_template">

				<article class="entry">
					<form>
						<label>Assignment: <textarea name="assignment-name"></textarea></label>
						<label for="due-date">Due Date:</label>
						<input type="text" id="due-date" name="due-date" pattern="-\d{2}-\d{2}-\d{4}"
							placeholder="DD-MM-YYYY" required>
						<label>Notes: <textarea name="notes"></textarea></label>
						<label>Priority:
							<select name="priority">
								<option value="low">Low</option>
								<option value="medium">Medium</option>
								<option value="high">High</option>
							</select>
						</label>
						<label>Category:
							<select name="category">
								<option value="homework">Homework</option>
								<option value="project">Project</option>
								<option value="exam">Exam</option>
								<option value="quiz">Quiz</option>
							</select>
						</label>
						<label>Done: <input type="checkbox" name="done"></label>
						<button class="delete_button">Delete</button>
					</form>
					<br>
				</article>
			</template>
			<br>

			<button id="save_button">Submit</button>
			<script type=module>
		import Backend from "https://madata.dev/src/index.js";

		globalThis.backend = Backend.from("https://github.com/limedosa/repo/data.json");

		backend.addEventListener("mv-login", evt => {
			loginButton.hidden = true;
			myUsername.textContent = backend.user.username;
			logoutButton.hidden = false;
		});

		backend.addEventListener("mv-logout", evt => {
			myUsername.textContent = "";
			logoutButton.hidden = true;
			loginButton.hidden = false;
		});

		globalThis.json = (await backend.load()) ?? {value: 0};
		valueInput.value = json.value;
		</script>


			<!-- <button id="sort_button">Sort</button> -->




			<p>
			<p></p>
			</p>
			<!-- <p>High Priority Tasks: <span id="high_priority_tasks"></span></p>
			<p>Low Priority Tasks: <span id="low_priority_tasks"></span></p>
			<p>Tasks Due Today: <span id="tasks_due_today"></span></p>
			<p>Overdue Tasks: <span id="overdue_tasks"></span></p> -->
		</div>
		<footer>
			<p>Keeping track of your h❤️mework!</p>
		</footer>
	</main>

</body>

</html>